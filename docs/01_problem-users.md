# 01_problem-users.md — 課題理解 / ペルソナ / JTBD（MVP必須）

- プロダクト：飲食店向け シフト管理SaaS（個人開発MVP）
- 目的：**飲食店のシフト運用（希望回収→作成→公開→変更対応）がアプリ内で破綻なく回る**状態を作る
- 想定スコープ：**1店舗** / 店長（管理者）＋スタッフ（アルバイト）
- このドキュメントの役割：要件・設計・技術選定の「根拠」を固定する（あとで迷ったらここに戻る）
- 更新：v0.1

---

## 1. 問題の定義（何が“つらい”のか）

飲食店のシフトは「作る」よりも **“作った後に壊れる”** のが本質。

### 現場で起きること（よくある）
- 希望が集まらない / 締切が守られない
- ピークで人が足りない or 閑散で人が余る
- 当日欠勤・遅刻・早退で急に穴が空く
- LINE/紙/口頭など連絡が散らばり、最新版が分からない
- 「聞いてない」「言った言わない」が発生して揉める

### 症状（表面）
- 店長の作業が重い（催促、入力、調整、連絡、穴埋め）
- スタッフの不満（希望が通らない、連絡が見づらい、代打がストレス）
- 結果：売上機会損失、クレーム、離職、店長疲弊

### 根本原因（構造）
- 情報が一箇所に集まらない（提出・確定・変更の“正”がない）
- 変更時の手順がない（穴埋め探し＝属人的）
- 証跡が残らない（履歴がないので揉めやすい）
- 制約が多く、判断が経験依存（必要人数や相性が暗黙知）

---

## 2. 誰の問題か（ステークホルダー整理）

| 役割 | 意思決定 | 主なゴール | MVP重要度 |
|---|---:|---|---:|
| 店長（管理者） | 強い | 人件費を守りつつピークを回す / 作業負荷を下げる | **最重要** |
| スタッフ（アルバイト） | 中 | 希望通りに入りたい / 予定を確定したい / 断りやすくしたい | **重要** |
| オーナー/エリアMgr | 強い（複数店） | 店舗横断で改善・標準化したい | 今回はMVP外 |

> MVPは **店長×スタッフ** の2者が回れば成立。  
> オーナー系は“後からLTVを上げる”拡張枠にする。

---

## 3. ペルソナ（必須級：最小2名＋参考1名）

### Persona A：店長（管理者）※MVPの主役
- **状況**
  - 店舗運営の責任者。採用・育成・売上・クレーム対応も並行。
  - シフトは週次（または半月）で作成。欠勤対応は随時。
- **達成したいこと**
  - ピークで必要人数を確保しつつ、人件費を守りたい
  - 希望回収の手間を減らし、短時間で作りたい
  - 変更が出てもすぐに埋めて現場を止めたくない
- **困っていること（痛み）**
  - 希望が散らばる（LINE、口頭、紙、写真）
  - 未提出の催促が面倒、期限が守られない
  - 欠勤が出たときの穴埋め連絡が地獄
  - “最新版”が分からず、現場で混乱が起きる
  - 履歴がなく揉める（証拠がない）
- **プロダクトに求める価値**
  - 「回収→作成→公開→変更」を一本道で回せること
  - 変更時に“誰が・いつ・何を”が残ること

---

### Persona B：スタッフ（アルバイト）
- **状況**
  - 学生・掛け持ちなど制約が多い。連絡はスマホ中心。
  - シフトは「提出」「確認」「変更」が主な接点。
- **達成したいこと**
  - できるだけ希望通りに入りたい
  - いつ働くか早く確定させたい（予定が立てたい）
  - 代打依頼のストレスを減らしたい（断りやすさ含む）
- **困っていること**
  - 希望提出が面倒、締切を忘れる
  - LINEが流れて見落とす、どれが確定か分からない
  - 急な代打依頼が多く心理的負担
- **プロダクトに求める価値**
  - 30秒で希望提出できること
  - 確定シフトが一発で見えること
  - 変更があったら確実に気づけること

---

### Persona C：オーナー/エリアマネ（参考：MVP外）
- 店舗横断で人件費・欠勤率・穴埋め頻度を見て改善したい  
→ ただしMVPは「まず1店舗を回す」を優先し、分析は後回し。

---

## 4. JTBD（Jobs To Be Done）

### 店長のJTBD
- **希望を締切までに集めたい**（未提出を可視化して催促したい）
- **制約を守りながら配置を決めたい**（必要人数・偏りを減らしたい）
- **確定版を一つにしたい**（現場が混乱しない“正”が欲しい）
- **欠勤などの変更に強くしたい**（穴が空いたらすぐ埋めたい）
- **揉めないように証跡を残したい**（履歴が欲しい）

### スタッフのJTBD
- **希望を手早く提出したい**
- **確定シフトをすぐ把握したい**
- **欠勤/変更を言いやすくしたい**（申請の型が欲しい）
- **更新に気づきたい**（通知・見落とし防止）

---

## 5. 主要なユーザージャーニー（MVPで必ず通す）

### Journey 1：希望回収（スタッフ→店長）
1. 店長が期間を作成し、提出締切を設定
2. スタッフがスマホで希望提出
3. 店長が未提出者を確認し、必要なら催促

**成功条件**
- 未提出がゼロに近づく（可視化と導線で改善）
- 希望が“ここにある”が確立する

---

### Journey 2：シフト作成→公開（店長→スタッフ）
1. 店長が希望を見ながら手動で割り当て
2. 不足/過剰を簡易的に把握（目安人数のテンプレでも可）
3. 店長が確定して公開
4. スタッフが自分のシフトを確認

**成功条件**
- 「どれが確定？」が無くなる（確定版が一つ）

---

### Journey 3：欠勤/変更対応（スタッフ↔店長）
1. スタッフが欠勤/変更を申請
2. 店長が承認/却下
3. 店長が穴埋めを反映し、確定版を更新
4. 変更履歴が残り、スタッフに通知される

**成功条件**
- 変更が起きても混乱しない（最新版が見える＋履歴がある）

---

## 6. MVPの前提（Assumptions）

- まずは **1店舗** で成立させる（複数店舗は後回し）
- 自動最適化は不要。**手動編集が快適**なら勝てる
- 通知は最初 **メール or アプリ内通知** の片方で成立させる
- 勤怠打刻・給与計算は別ジャンル。MVPでは扱わない

---

## 7. 価値仮説（MVPで検証したいこと）

### 仮説H1：希望回収の“正”ができるだけで、店長の負担が大きく減る
- LINE/紙/口頭が集約され、催促が楽になる

### 仮説H2：確定版を一つにし、変更履歴が残るだけで揉めごとが減る
- 「聞いてない」「言った言わない」が減る

### 仮説H3：欠勤→反映→通知までが一本道だと、現場の混乱が減る
- 穴埋め自動化が無くても、運用が整うだけで価値が出る

---

## 8. 計測（MVPの成功指標）

### 定量（できれば追う）
- 希望提出の完了率（締切時点）
- シフト作成にかかった時間（店長）
- 公開後の変更回数、変更対応の所要時間
- “最新版不明”問い合わせ件数（体感でも良い）

### 定性（必ず拾う）
- 店長：「催促が減った？」「変更時に楽になった？」
- スタッフ：「見落としが減った？」「提出が楽？」

---

## 9. 非目標（この段階でやらないと決めること）

- 自動シフト最適化（AI/アルゴリズム）
- 代打募集の自動マッチング（先着・承認フローの高度版）
- 多店舗管理、エリアマネダッシュボード
- 勤怠打刻・給与計算・会計連携
- LINE連携、カレンダー同期、Push通知（後で伸ばす）

---

## 10. MVPでの“違和感ポイント”（先に注意しておく）

- 店長は忙しい：UIは最短導線（3クリック以内）を意識
- スタッフはスマホ：入力の手間を極小化（選択式中心）
- 同時編集は頻繁ではない：競合処理は最小でもOK（後で強化）
- ルールは店ごとに違う：最初は“警告”止まりでも良い

---

## 11. まとめ（このドキュメントの固定事項）

- 主役は **店長**。MVP価値は **希望回収の集約 / 確定版の一元化 / 変更に強い運用 / 履歴**。
- スタッフ価値は **提出の速さ / 確定の見やすさ / 変更の伝えやすさ / 更新に気づけること**。
- 自動化は後でいい。まずは **破綻しない最小設計** を優先する。
